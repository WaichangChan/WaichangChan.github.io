webpackJsonp([0],{80:function(t,e,o){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function r(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var a=o(0),c=o.n(a),l=o(81),h=function(){function t(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,o,n){return o&&t(e.prototype,o),n&&t(e,n),e}}(),d=function(t){function e(){var t,o,r,a;n(this,e);for(var c=arguments.length,h=Array(c),d=0;d<c;d++)h[d]=arguments[d];return o=r=i(this,(t=e.__proto__||Object.getPrototypeOf(e)).call.apply(t,[this].concat(h))),r.canvasRef=null,r.quadHandler=null,r.handleRef=function(t){t?(r.handleRef=t,r.quadHandler=Object(l.a)(r.handleRef)):r.quadHandler.cleanQuadTree()},a=o,i(r,a)}return r(e,t),h(e,[{key:"render",value:function(){return c.a.createElement("div",null,c.a.createElement("p",null,"\u56db\u53c9\u6811\u78b0\u649e\u68c0\u6d4b"),c.a.createElement("canvas",{style:{marginTop:"1em"},ref:this.handleRef}))}}]),e}(a.Component);e.default=d},81:function(t,e,o){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t){function e(t){o.clearRect(0,0,n,i),s.clear(),a.forEach(function(t){t.move(),t.overlap=!1}),s.setObjects(a),s.render(o);var r=1e3/(t-u)>>0;o.fillText("FPS "+r,5,15),u=t,f.animateId=window.requestAnimationFrame(e)}var o=t.getContext("2d"),n=t.width,i=t.height,a=[],c=n-10,h=i-10;l.right=n,l.bottom=i;for(var d=0;d<100;d++)a.push(new l(Math.random()*c>>0,Math.random()*h>>0,10,10));var s=new r(n,i);s.setObjects(a),s.render(o);var f={animateId:0,cleanQuadTree:function(){window.cancelAnimationFrame(this.animateId)}},u=0;return e(),f}e.a=i;var r=function t(e,o){var i=this;n(this,t),this.setObjects=function(t){t instanceof Array?t.forEach(function(t){this.root.add(t)},i):i.root.add(t),i.root.collision()},this.clear=function(){i.root.clear()},this.render=function(t){i.root.drawNode(t)},this.showTargets=function(t,e){i.root.getObjectsByBound(e).forEach(function(e){var o=e.bound;t.fillStyle="#F00",t.fillRect(o.left,o.top,o.width,o.height)})},this.root=new a({left:0,top:0,width:e,height:o},1)};r.maxObjPerNode=5,r.maxLevel=5;var a=function t(e,o){n(this,t),c.call(this),this.objects=[],this.childNodes=null,this.bound=e,this.level=o,this.cleaned=!0};a.LEFT_TOP=0,a.LEFT_BOTTOM=1,a.RIGHT_BOTTOM=2,a.RIGHT_TOP=3;var c=function(){var t=this;this.drawNode=function(e){var o=t.bound;t.childNodes&&t.childNodes.forEach(function(t){t.drawNode(e)}),t.objects.length>0&&e.strokeRect(o.left,o.top,o.width,o.height);var n=[];t.objects.forEach(function(t){var o=t.bound;e.strokeRect(o.left,o.top,o.width,o.height),t.overlap&&n.push(o)}),e.save(),e.fillStyle="#F00",n.forEach(function(t){e.fillRect(t.left,t.top,t.width,t.height)}),e.restore()},this.clear=function(){t.childNodes&&t.childNodes.forEach(function(t){t.clear()}),t.cleaned=!0,t.objects.length=0},this.collision=function(){var e=t.childNodes;if(e){e.forEach(function(t){t.collision()});var o=t;t.objects.forEach(function(t){o.getObjectsByBound(t.bound).forEach(function(e){o.rectOverRect(t.bound,e.bound)&&(e.overlap=t.overlap=!0)})})}for(var n=t.objects,i=0,r=n.length;i<r;i++)for(var a=i+1;a<r;a++)t.rectOverRect(n[i].bound,n[a].bound)&&(n[i].overlap=n[a].overlap=!0)},this.rectOverRect=function(t,e){return!(t.left+t.width<e.left||t.left>e.left+e.width||t.top+t.height<e.top||t.top>e.top+e.height)},this.add=function(e){if(!e||!e.bound)throw new TypeError("arguments must contain {bound}");if(!t.cleaned&&t.childNodes&&t.childNodes.length>0){var o=t.getIndex(e.bound);if(o>-1)return t.childNodes[o].add(e)}else if(t.objects.length>r.maxObjPerNode&&t.level<r.maxLevel){t.split();var n=t.getIndex(e.bound);if(n>-1)return t.childNodes[n].add(e)}t.objects.push(e)},this.split=function(){var e=t.bound,o=e.width/2>>0,n=e.height/2>>0,i=t.level+1;!t.childNodes&&(t.childNodes=[new a({left:e.left,top:e.top,width:o,height:n},i),new a({left:e.left,top:e.top+n,width:o,height:n},i),new a({left:e.left+o,top:e.top+n,width:o,height:n},i),new a({left:e.left+o,top:e.top,width:o,height:n},i)]);var r=[];t.objects.forEach(function(t){var e=this.getIndex(t.bound);-1<e?this.childNodes[e].add(t):r.push(t)},t),t.cleaned=!1,t.objects=r},this.getIndex=function(e){if(t.childNodes){var o=t.childNodes[2].bound,n=e.top>=o.top,i=e.top+e.height<=o.top;return e.left>=o.left?i?3:n?2:[2,3]:e.left+e.width<=o.left?i?0:n?1:[0,1]:i?[0,3]:n?[1,2]:[0,1,2,3]}return-1},this.getObjectsByBound=function(e){var o=t.objects;if(t.childNodes){var n=t.getIndex(e);if(n>-1){var i=t.childNodes[n].getObjectsByBound(e);o=i}else-1!==n&&(o=[],n.forEach(function(t){var n=this.childNodes[t].getObjectsByBound(e);o=o.concat(n)},t))}return o}},l=function t(e,o,i,r){var a=this;n(this,t),this.move=function(){var e=1;a.stepX<0&&(e*=-1),a.bound.left+=e,(a.bound.left<0||a.bound.left+a.bound.width>t.right)&&(a.stepX=-e),e=1,a.stepY<0&&(e*=-1),a.bound.top+=e,(a.bound.top<0||a.bound.top+a.bound.height>t.bottom)&&(a.stepY=-e)},this.bound={left:e,top:o,width:i,height:r},this.stepX=Math.random()<.5?-1:1,this.stepY=Math.random()<.5?-1:1}}});
//# sourceMappingURL=0.0a797322.chunk.js.map